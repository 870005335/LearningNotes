# 第四章 数据运算

- 列出在数据上进行的三类运算；
- 在位模式上进行一元和二元逻辑运算；
- 区分逻辑移位运算和算术移位运算；
- 在位模式上进行逻辑移位运算；
- 在以二进制补码形式存储的整数上进行算术移位运算;
- 在以二进制补码形式存储的整数上进行加法和减法运算;
- 在以符号加绝对值形式存储的整数上进行加法和减法运算;

- 在以浮点格式存储的实数上进行加法和减法运算;
- 理解逻辑和移位运算的一些应用,如置位、复位和指定位的反转等。

## 逻辑运算

逻辑运算是指那些应用于<font color='red'>模式中</font>一个二进制位，或在<font color='red'>两个模式中</font>相应的两个二进制位的相同基本运算

- 位层次上的逻辑运算
- 模式层次上的逻辑运算

模式层次上的逻辑运算是具有相同类型的位层次上的n个逻辑运算，这里的n就是模式中的位的数目

### 位层次

一个位可以是0或1，<font color='red'>“0”代表逻辑“假”，“1”代表逻辑“真”</font>，使用<font color='red'>布尔代数</font>的定义去操作二进制位

4种用来操作二进制位的位层次上的运算：

- 非（NOT）
- 与（AND）
- 或（OR）
- 异或（XOR）

#### 非，NOT

NOT运算符是<font color='red'>一元操作符</font>

只有一个输入，输出位是输入位的相反，如果输入0，则输出1；如果输入1，则输出0

![image-20220727164814980](数据运算.assets/image-20220727164814980.png)

#### 与，AND

AND运算符是<font color='red'>二元操作符</font>

有两个输入，如果输入都是1，则输出1；其它3种情况，输出都是0

![image-20220727164914550](数据运算.assets/image-20220727164914550.png)

#### 或，OR

OR运算符时<font color='red'>二元操作符</font>

有两个输入，如果输入都是0，则输出0；其它3种情况，输出都是1

![image-20220727165010124](数据运算.assets/image-20220727165010124.png)

#### 异或，XOR

XOR运算符是<font color='red'>二元操作符</font>

有两个输入，如果输入相同，则输出0；如果输入不同，则输出1

### 模式层次

相同的4个运算符（NOT，AND，OR，XOR）被应用到<font color='red'>n位模式</font>

![image-20220727165148971](数据运算.assets/image-20220727165148971.png)

例1：用NOT（非）运算符来计算位模式10011000。

解	把每个1变成0，每个0变成1。

![image-20220727165959714](数据运算.assets/image-20220727165959714.png)

例2：用AND（与）运算符来计算位模式10011000和00101010。

解	输入中相应的位都为1，输出为1

![image-20220727170722132](数据运算.assets/image-20220727170722132.png)

例3：对位模式数值10011001和00101110应用OR（或）运算。

解	输入中相应的位都为0，输出为0

![image-20220727170842608](数据运算.assets/image-20220727170842608.png)

例4：使用XOR（异或）运算符对10011001和00101110位运算。

解	10110111

### 复位（掩码）

对指定的位复位

- AND指定的位通过掩码 复位---0
- OR指定的位通过掩码 复位---1
- XOR指定的位通过掩码 复位---取反

### 移位运算

移位运算移动模式中的位，改变位的位置。它们能向左或向右移动位。我们可以把移位运算分成两大类：逻辑移位运算和算术移位运算。

#### 逻辑移位

逻辑移位运算应用于不带符号位的数的模式。原因是这些移位运算可能会改变数的符号,此符号是由模式中最左位定义的。我们区分两类逻辑移位运算,如下面描述。

1.逻辑移位
		逻辑右移运算把每一位向右移动一个位置。在n位模式中,最右位丢失,最左位填0。逻辑左移运算把每一位向左移动一个位置。在n位模式中,最左位丢失,最右位填0。图4-3显示了对一个8位模式的逻辑右移和逻辑左移。

![image-20220727173335478](数据运算.assets/image-20220727173335478.png)

2.循环移位运算

循环移位运算(旋转运算)对位迹行移位,但没有位被丢弃或增加。循环右移(或右施转)把每一位向右移动一个位置,最右位被回环,成为最左位。循环左移(或左旋转)把每一位向左移动一个位置,最左位被回环,成为最右位。图4-4显示了循环左移和循环右移运算。

![image-20220727173942194](数据运算.assets/image-20220727173942194.png)

例1：对位模式10011000使用逻辑左移运算。

解	如下所示，最左位被丢弃，0作为最右位被插入。

![image-20220727174118932](数据运算.assets/image-20220727174118932.png)

例2：对位模式10011000使用循环左移运算。

解	最左位被回环，成为最右位。

![image-20220727174217963](数据运算.assets/image-20220727174217963.png)

#### 算术移位

**算术移位运算**假定位模式是用二进制补码格式表示的带符号位的整数。算术右移被用来对整数除以2；而算术左移被用来对整数乘以2（后面讨论）。这些运算不应改变符号位（最左）。

算术右移保留符号位，单同时也把它复制，放入相邻的右边的位中，因此符号被保存。

算术左移丢弃符号位，接受它左边的位作为符号位。如果新的符号位与原先的相同，那么运算成功，否则发生上溢或下溢，结果是非法的。图4-5显示了这两种运算。

![image-20220727175042306](数据运算.assets/image-20220727175042306.png)

例1：对位模式10011001使用算术右移，模式是二进制